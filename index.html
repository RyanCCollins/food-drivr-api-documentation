<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Hacksmiths Food Drivr API is fairly easy to use.  When in doubt, follow REST principles.</p>

<p>Most requests require specific headers.  Make sure to include the Content-Type header and the Authorization header for any request.  The only exception to this is when you are creating a User or a Session, in which case you will not yet have an Auth token.</p>

<h3 id="rest-amp-http-methods">REST &amp; HTTP Methods</h3>

<p>With this API, there are 4 main HTTP methods you will use.
* GET
Get will get you data, either in the form of an array or a singular JSON object.</p>

<ul>
<li>POST
POST is used to create resources, i.e. Users, Sessions, Donations, et. al.</li>
<li>PATCH
PATCH is used to update one or more parameters of a JSON object.  As long as you use the right parameter names, this should be easy.</li>
<li>DELETE
DELETE is really only used in the context of deleting a Session.  To sign a user out and change their auth token, you will send a DELETE request, for example.</li>
</ul>

<h3 id="headers">Headers</h3>

<p>To the right, you will see an example of your typical headers.</p>
<pre class="highlight shell"><code>  <span class="s2">"Content-Type: application/json"</span>  
  <span class="s2">"Authorization: your_authorization_token"</span>
</code></pre>

          <h1 id="create-a-user">Create a User</h1>

<p>To create / register a user, you will create a User object containing the Name, Username, Password and Password Confirmation.  Pass the user object to the users endpoint via the POST method and you will get back a User object with an auth_token.  </p>

<p>Make sure to pass in a role_id.  If the user is a driver, pass in 1, otherwise if they are a donor pass in 0.  We will put a mechanism in place for approving drivers, so expect that you will not get an auth token back if the user is a driver until they are approved.</p>

<blockquote>
<p>The object that you submit when creating a User will look like this</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frank Robert"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frank@helloworld.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"helloworld1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"password_confirmation"</span><span class="w"> </span><span class="p">:</span><span class="s2">"helloworld1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/users</code></p>

<h3 id="method-post"><strong>Method</strong>:<code class="prettyprint">POST</code></h3>

<h3 id="http-request">HTTP Request</h3>

<h4 id="url-params"><strong>URL Params</strong></h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>password_confirmation</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h3 id="success-response">Success Response</h3>

<ul>
<li><strong>2XX</strong></li>
<li><strong>User object containing an Auth Token</strong></li>
</ul>

<blockquote>
<p>Sample user object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ryan Collins"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frank@helloworld.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T22:28:46.523Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T22:28:46.523Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"auth_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somerandomstringhere"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"setting"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-15T16:11:41.186Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-15T16:11:41.186Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">TBD</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">TBD</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="error-response">Error Response</h3>

<ul>
<li><strong>40X</strong></li>
</ul>

<p>The API expects for an auth token to be included in all API requests to the server.</p>

<aside class="notice">
Note: implementation for authorization will change, but this should be enough to get you going.  I will be implementing an OAuth /token endpoint that will serve to make this process more secure.
</aside>

<h1 id="users">Users</h1>

<p>The users resource is setup primarily to provide a mechanism for interacting with a User&rsquo;s profile.  Most actions taken by a User, either a Donor or A Driver are namespaced so that a Donor and Driver have separate actions they can fulfill via the endpoints.</p>

<h2 id="get-a-single-user">Get a Single User</h2>

<p>Getting a user is as simple as making a GET request with an Auth token in the header.  The user resource is protected to only allow the authenticated user to access their own user data.  </p>
<pre class="highlight shell"><code>curl -v <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: auth_token"</span> <span class="se">\</span>
  <span class="s2">"https://wastenotfoodtaxi.herokuapp.com/api/v1/user/3"</span>
</code></pre>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/users/:auth_token)</code></p>

<h4 id="method-get"><strong>Method</strong>:<code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>auth_token</td>
<td>Int</td>
<td>The user&rsquo;s auth_token</td>
</tr>
</tbody></table>

<h3 id="success-response">Success Response</h3>

<ul>
<li>200</li>
<li>A User object, as shown above</li>
</ul>

<h3 id="error-response">Error Response</h3>

<ul>
<li>4XX</li>
</ul>

<h2 id="update-a-user">Update a User</h2>

<p>To update a user, simply create a PATCH request to the user endpoint.  You will pass in a JSON object containing any of the parameters you need to authenticate.</p>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/users/:auth_token</code></p>

<h4 id="method-patch"><strong>Method</strong>:<code class="prettyprint">PATCH</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>Pass an object that contains all of the User data you want to update.  Must match the User JSON model.</p>

<blockquote>
<p>Sample user object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ryan Collins"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frank@helloworld.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://helloworld.com/helloworld.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"setting"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-15T16:11:41.186Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-15T16:11:41.186Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">TBD</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">TBD</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="success-response">Success Response</h3>

<ul>
<li>2XX
### Error Response</li>
<li>4XX</li>
</ul>

          <h1 id="sessions">Sessions</h1>

<h2 id="create-a-session">Create a Session</h2>

<p>To signin a user, you will want to create a session.  This will take a username and a password and will return an auth token that can be used to authenticate protected resources.</p>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/sessions</code></p>

<h4 id="method-post"><strong>Method</strong>:<code class="prettyprint">POST</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>You will pass the email address and password as a session JSON object.</p>

<blockquote>
<p>You will send a JSON object to create the session as shown below.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"session"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frank@helloworld.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"helloworld1234"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="http-response">HTTP Response</h4>

<p>Success: A User object, as shown above under Registering a User.
Error: 4XX</p>
<pre class="highlight shell"><code>curl -v <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: auth_token"</span> <span class="se">\</span>
  <span class="s2">"https://wastenotfoodtaxi.herokuapp.com/api/v1/sessions"</span>
</code></pre>

<h2 id="destroy-a-session">Destroy a Session</h2>

<p>To signout a user, you will need to submit a DELETE request to the sessions endpoint.  Pass in the user&rsquo;s auth token as a URL parameter.  </p>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/sessions/:id</code></p>

<h4 id="method-delete"><strong>Method</strong>:<code class="prettyprint">DELETE</code></h4>

<h4 id="http-request">HTTP Request</h4>

<aside class="notice">
Note: The id field passed into is the ID of the session, which is your auth_token, not the ID of the user.
</aside>

<h4 id="http-response">HTTP Response</h4>

<p>Success: 204, No Content
Error: 4XX</p>
<pre class="highlight shell"><code>curl -v <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: auth_token"</span> <span class="se">\</span>
  <span class="s2">"https://wastenotfoodtaxi.herokuapp.com/api/v1/sessions/KoPrTKYYMzqmrEJQsnAb"</span>
</code></pre>

          <h1 id="donations">Donations</h1>

<p>You can get a list of donations, get a single donation, create a single donation and update a donation.
<aside class="notice">
Note: There are several related fields for each donation, such as the Status of the donation and the Type of donation.  Using the related integer value for these fields is the simplest way to interact with the API.
</aside></p>

<blockquote>
<p>Example enum in Ryan (a new programming language) for DonationStatus
<code class="prettyprint">
enum DonationStatus: Int {
  PendingAction = 0
  Accepted = 1
  Completed = 2
  Cancelled = 3
}
</code></p>
</blockquote>

<h2 id="get-all-donations">Get All Donations</h2>

<p>To get a list of donations, submit a GET request to the donations endpoint.  Make sure to include your auth token, as described above.  You will get an array of donations (See below).</p>
<pre class="highlight shell"><code>curl -v <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: auth_token"</span> <span class="se">\</span>
  <span class="s2">"https://wastenotfoodtaxi.herokuapp.com/api/v1/donations"</span>
</code></pre>

<blockquote>
<p>An example of the data returned from the endpoint is shown below</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"donations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"American apparel before they sold out brunch art sustainable locavore banh mi."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.958Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.958Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"donor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(444)523-6939 x15071"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manuela Steuber"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arlo_mann@graham.ca"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:09.818Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:09.818Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"driver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-612-279-6059 x648"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alivia Baumbach"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hellen.boyer@stark.biz"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:03.037Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:03.037Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"donation_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Jujube"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Lime"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-02-08T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-08-21T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.5998084143"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.971638773"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.906Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.906Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7272 Aron Green"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 919"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Port Ludie"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Montana"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"82184"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-11T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-02T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34.3823767403"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-81.611008"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.936Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.936Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7284 Omer Manors"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 199"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reichertchester"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vermont"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52878"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kozey, Sauer and Koss"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"887 McDermott Corner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 169"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"South Benjaminport"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.475Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.475Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Connecticut"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60759"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://cloudinary.com/image.png"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://cloudinary.com/image2.png"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cardigan Pitchfork cliche locavore Wes Anderson biodiesel butcher PBR."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.966Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.966Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"donor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"261-917-1247 x195"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isabelle Keebler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"william_gutkowski@brekke.ca"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:30:58.804Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:30:58.804Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"driver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"716-919-7270"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Matilde Becker"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isac@schroederswift.biz"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:08.840Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:08.840Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"donation_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Jambul"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Lime"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-26T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-05-06T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26.1180992126"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-90.3760452271"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.963Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.963Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83882 Deion Circle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 460"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hackettview"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idaho"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63475"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-18T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36.2345447488"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-118.0646387827"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.972Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.972Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"724 Obie Drive"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 589"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eulaton"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North Dakota"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65220"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"McClure-Hills"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9293 Stamm Port"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 066"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Tobyberg"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.448Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.448Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57564"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://cloudinary.com/image.png"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://cloudinary.com/image2.png"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://wastenotfoodtaxi.herokuapp.com/api/v1/donations</code></p>

<h3 id="method">Method</h3>

<p>GET</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and a Donations array as shown above
Error: 4XX</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>0</td>
<td>Will return the most recent pending donations</td>
</tr>
<tr>
<td>embedded</td>
<td>true</td>
<td>If included, user relationships are automatically included in the JSON object. i.e. return donor object in JSON vs. donor_id.</td>
</tr>
</tbody></table>

<aside class="warning">
Note: the status must follow the following pattern because the client&rsquo;s expect a numerical value:
&ldquo;`
enum Status: Int {
  pending = 0
  active = 1
  completed = 2
}
&rdquo;`
</aside>

<h2 id="update-a-donation">Update a Donation</h2>

<p>To update a donation, you will submit a PATCH to the donations endpoint.  Submit any parameters that will need to be updated, following the schema above for the donation JSON object.</p>

<blockquote>
<p>An example request
<code class="prettyprint">shell
curl -v \
  -H &quot;Content-Type: application/json&quot; \
  -H &quot;Authorization: auth_token&quot; \
  &quot;https://wastenotfoodtaxi.herokuapp.com/api/v1/donations/:id&quot;
</code></p>
</blockquote>

<aside class="warning">Make sure you pass an auth token in the header<code>&lt;code&gt;</code></aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://wastenotfoodtaxi.herokuapp.com/api/v1/donations/:id</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the donation to update</td>
</tr>
<tr>
<td>Other Donation Params</td>
<td>Follow the schema defined above for donations</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-donation">Get a Specific Donation</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://wastenotfoodtaxi.herokuapp.com/api/v1/donations/:id"</span>
  -H <span class="s2">"Authorization: user_token"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"donation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cardigan Pitchfork cliche locavore Wes Anderson biodiesel butcher PBR."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.966Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.966Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"donor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"261-917-1247 x195"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isabelle Keebler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"william_gutkowski@brekke.ca"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:30:58.804Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:30:58.804Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"driver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"716-919-7270"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Matilde Becker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isac@schroederswift.biz"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:08.840Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:08.840Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"donation_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Jambul"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Lime"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-26T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-05-06T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26.1180992126"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-90.3760452271"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.963Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.963Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83882 Deion Circle"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 460"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hackettview"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idaho"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63475"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"estimated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-18T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36.2345447488"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-118.0646387827"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.972Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:14.972Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"donation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"724 Obie Drive"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 589"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eulaton"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North Dakota"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65220"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"McClure-Hills"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9293 Stamm Port"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"street_address_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 066"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Tobyberg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.448Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-17T18:31:13.448Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57564"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://cloudinary.com/image.png"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://cloudinary.com/image2.png"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific donation.</p>

<aside class="warning">Make sure you pass an auth token<code>&lt;code&gt;</code></aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://wastenotfoodtaxi.herokuapp.com/api/v1/donations/:id</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the donation to retrieve</td>
</tr>
</tbody></table>

          <h1 id="donors">Donors</h1>

          <h1 id="drivers">Drivers</h1>

<p>Drivers have a few main actions they can take to initiate a pickup, change the status of a donation and dropoff the food.</p>

<p>When a donation is created, the location where the food will be picked up is set based on the Donor&rsquo;s default address.  If they do not have a default address, you&rsquo;ll need to submit a location along with the donation to be specific.  We do not want Driver&rsquo;s picking up food at the wrong location, so all of the client&rsquo;s need a verify your address step.  To pickup a donation, a driver will accept the donation.  At each step along the way, the driver sends status updates to the server.  Actions that can be accomplished by a driver include: accept to pickup the food,</p>

<h2 id="check-status-of-a-non-approved-driver">Check Status of A Non-Approved Driver</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/status</code></p>

<h4 id="method-get"><strong>Method</strong>:<code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<h4 id="http-response">HTTP Response</h4>

<p>Success: 2XX + an active field, showing if the driver has yet to be activated
Error: 4XX</p>

<blockquote>
<p>An example of the JSON received back from a status check
<code class="prettyprint">json
{
  &quot;active&quot;: false
}
</code></p>
</blockquote>

<h1 id="driver-donations">Driver Donations</h1>

<h2 id="get-all-donations-pending-accepted-completed-cancelled">Get All Donations (Pending, Accepted, Completed, Cancelled)</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/all</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Pending, and all attached to a Driver</p>

<h2 id="get-all-pending-donations">Get all Pending Donations</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/pending</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>N/A</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Pending
Error: 4XX</p>

<h2 id="get-all-accepted-donations-attached-to-a-driver">Get all Accepted Donations Attached to a Driver</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/accepted</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>N/A</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Accepted</p>

<h2 id="get-all-pending-donations-and-all-donations-tied-to-a-driver">Get all Pending Donations and all Donations tied to a Driver</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/all</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>N/A</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Completed</p>

<h2 id="get-all-cancelled-donations">Get all Cancelled Donations</h2>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/cancelled</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>N/A</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Cancelled</p>

<h3 id="get-a-single-donation-by-id">Get a Single Donation by ID</h3>

<aside class="notice">
Note: if the donation is assigned to another Driver, you will get a 403 Forbidden.  If the donation is not assigned or belongs to the Driver, you will get back a Donation.
</aside>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/:donation_id</code></p>

<h4 id="method-get"><strong>METHOD</strong>: <code class="prettyprint">GET</code></h4>

<h3 id="http-request">HTTP Request</h3>

<p>N/A</p>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and a single Donation
Error: 403 if the Donation belongs to another driver.</p>

<h2 id="update-the-status-of-a-single-donation">Update the Status of a Single Donation</h2>

<p>To update the status of a donation, send a request to POST</p>

<h3 id="url">URL</h3>

<p><code class="prettyprint">https://wastenotfoodtaxi.herokuapp.com/api/v1/driver/donations/:donation_id/status</code></p>

<h4 id="method-post"><strong>METHOD</strong>: <code class="prettyprint">POST</code></h4>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Note: The below objects match the three status fields to the status updates a driver will send.</p>

<p>Pending
<code class="prettyprint">
{
    &quot;status&quot;: {
        &quot;donation_status&quot;: 0,
        &quot;pickup_status&quot;: 0,
        &quot;dropoff_status&quot;: 0
    }
}
</code></p>

<p>Accepted by driver, but not yet picked up
<code class="prettyprint">json
{
    &quot;status&quot;: {
        &quot;donation_status&quot;: 1,
        &quot;pickup_status&quot;: 1,
        &quot;dropoff_status&quot;: 1
    }
}
</code></p>

<p>Picked up by driver
<code class="prettyprint">json
{
    &quot;status&quot;: {
        &quot;donation_status&quot;: 1,
        &quot;pickup_status&quot;: 2,
        &quot;dropoff_status&quot;: 1
    }
}
</code></p>

<p>Dropped off by driver
<code class="prettyprint">json
{
    &quot;status&quot;: {
        &quot;donation_status&quot;: 2,
        &quot;pickup_status&quot;: 2,
        &quot;dropoff_status&quot;: 2
    }
}
</code></p>

<p>Cancelled:
Note, a 4 in any status field will set the status of the rest to 4
<code class="prettyprint">json
{
    &quot;status&quot;: {
        &quot;donation_status&quot;: 4,
        &quot;pickup_status&quot;: 4,
        &quot;dropoff_status&quot;: 4
    }
}
</code></p>
</blockquote>

<h3 id="http-response">HTTP Response</h3>

<p>Success: 2XX and an array of Donations, All Cancelled</p>

          <h1 id="errors">Errors</h1>

<p>The Food Drivr API uses the following error codes:</p>

<h3 id="common-error-codes">Common error codes</h3>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request cannot be understood</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your token is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The data requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified data could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access data with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The data requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too much data! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

<h3 id="error-codes-in-depth-with-rails-symbols">Error codes in depth, with Rails symbols</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
<th>Symbol</th>
</tr>
</thead><tbody>
<tr>
<td>1xx</td>
<td>Informational</td>
<td></td>
</tr>
<tr>
<td>100</td>
<td>Continue</td>
<td>:continue</td>
</tr>
<tr>
<td>101</td>
<td>Switching Protocols</td>
<td>:switching_protocols</td>
</tr>
<tr>
<td>102</td>
<td>Processing</td>
<td>:processing</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2xx Success</td>
<td></td>
<td></td>
</tr>
<tr>
<td>200</td>
<td>OK</td>
<td>:ok</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>:created</td>
</tr>
<tr>
<td>202</td>
<td>Accepted</td>
<td>:accepted</td>
</tr>
<tr>
<td>203</td>
<td>Non-Authoritative Information</td>
<td>:non_authoritative_information</td>
</tr>
<tr>
<td>204</td>
<td>No Content</td>
<td>:no_content</td>
</tr>
<tr>
<td>205</td>
<td>Reset Content</td>
<td>:reset_content</td>
</tr>
<tr>
<td>206</td>
<td>Partial Content</td>
<td>:partial_content</td>
</tr>
<tr>
<td>207</td>
<td>Multi-Status</td>
<td>:multi_status</td>
</tr>
<tr>
<td>226</td>
<td>IM Used</td>
<td>im_used</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3xx Redirection</td>
<td></td>
<td></td>
</tr>
<tr>
<td>300</td>
<td>Multiple Choices</td>
<td>:multiple_choices</td>
</tr>
<tr>
<td>301</td>
<td>Moved Permanently</td>
<td>:moved_permanently</td>
</tr>
<tr>
<td>302</td>
<td>Found</td>
<td>:found</td>
</tr>
<tr>
<td>303</td>
<td>See Other</td>
<td>:see_other</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
<td>:not_modified</td>
</tr>
<tr>
<td>305</td>
<td>Use Proxy</td>
<td>:use_proxy</td>
</tr>
<tr>
<td>307</td>
<td>Temporary Redirect</td>
<td>:temporary_redirect</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4xx Client Error</td>
<td></td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>:bad_request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>:unauthorized</td>
</tr>
<tr>
<td>402</td>
<td>Payment Required</td>
<td>:payment_required</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>:forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>:not_found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>:method_not_allowed</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
<td>:not_acceptable</td>
</tr>
<tr>
<td>407</td>
<td>Proxy Authentication Required</td>
<td>:proxy_authentication_required</td>
</tr>
<tr>
<td>408</td>
<td>Request Timeout</td>
<td>:request_timeout</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
<td>:conflict</td>
</tr>
<tr>
<td>410</td>
<td>Gone</td>
<td>:gone</td>
</tr>
<tr>
<td>411</td>
<td>Length Required</td>
<td>:length_required</td>
</tr>
<tr>
<td>412</td>
<td>Precondition Failed</td>
<td>:precondition_failed</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large</td>
<td>:request_entity_too_large</td>
</tr>
<tr>
<td>414</td>
<td>Request-URI Too Long</td>
<td>:request_uri_too_long</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type</td>
<td>:unsupported_media_type</td>
</tr>
<tr>
<td>416</td>
<td>Requested Range Not Satisfiable</td>
<td>:requested_range_not_satisfiable</td>
</tr>
<tr>
<td>417</td>
<td>Expectation Failed</td>
<td>:expectation_failed</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
<td>:unprocessable_entity</td>
</tr>
<tr>
<td>423</td>
<td>Locked</td>
<td>:locked</td>
</tr>
<tr>
<td>424</td>
<td>Failed Dependency</td>
<td>:failed_dependency</td>
</tr>
<tr>
<td>426</td>
<td>Upgrade Required</td>
<td>:upgrade_required</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5xx Server Error</td>
<td></td>
<td></td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>:internal_server_error</td>
</tr>
<tr>
<td>501</td>
<td>Not Implemented</td>
<td>:not_implemented</td>
</tr>
<tr>
<td>502</td>
<td>Bad Gateway</td>
<td>:bad_gateway</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>:service_unavailable</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Timeout</td>
<td>:gateway_timeout</td>
</tr>
<tr>
<td>505</td>
<td>HTTP Version Not Supported</td>
<td>:http_version_not_supported</td>
</tr>
<tr>
<td>507</td>
<td>Insufficient Storage</td>
<td>:insufficient_storage</td>
</tr>
<tr>
<td>510</td>
<td>Not Extended</td>
<td>:not_extended</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
