<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;javascript&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="swift">swift</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Food Drivr API! This documentation should serve as a point of reference for connecting to the API as a user and for interacting with the database.</p>

<p>We have language bindings in Javascript, Ruby, Shell and Swift! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>This API documentation page was created with <a href="https://github.com/tripit/slate">Slate</a>. Feel free to edit it and use it as a base for your own API&rsquo;s documentation.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize as a user, you will need to make a request to the server for an access token:</p>
</blockquote>
<pre class="highlight ruby"><code>
</code></pre>
<pre class="highlight swift"><code>
</code></pre>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"http://fooddrivr.com/api/v1/auth"</span>
  -H <span class="s2">"Authorization: auth_token"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">auth_token</code> with an API token.</p>
</blockquote>

<p>The API uses JWT based authentication.  You will make a request, with credentials, for a token.</p>

<p>The Food Drivr API expects for an auth token to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: auth_token</code></p>

<aside class="notice">
Note that the auth token is generated when a user registers or authenticates with a username and password.
</aside>

<h1 id="donations">Donations</h1>

<h2 id="get-all-donations">Get All Donations</h2>
<pre class="highlight ruby"><code>
</code></pre>
<pre class="highlight swift"><code>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/v1/donations"</span>
  -H <span class="s2">"Authorization: auth_token"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"donor_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12346"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"driver_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"longitute"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_listed"</span><span class="p">:</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"initiated"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text description about the items donated"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"donor_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12346"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"driver_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"longitute"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_listed"</span><span class="p">:</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"initiated"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text description about the items donated"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all donations.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/api/v1/donations</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>completed</td>
<td>false</td>
<td>If set to true, the result will include completed requests.</td>
</tr>
<tr>
<td>date_range</td>
<td></td>
<td>If included, will send a specific date range</td>
</tr>
</tbody></table>

<aside class="success">
Remember - you need to include an auth token!
</aside>

<h2 id="get-a-specific-donation">Get a Specific Donation</h2>
<pre class="highlight ruby"><code>
</code></pre>
<pre class="highlight javascript"><code>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/v1/donations/2"</span>
  -H <span class="s2">"Authorization: user_token"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"donor_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12346"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"driver_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitute"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="nt">"address_listed"</span><span class="p">:</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"initiated"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"date_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-15T13:45:30"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://someimageurl.com/image.png"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text description about the items donated"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific donation.</p>

<aside class="warning">Make sure you pass an auth token<code>&lt;code&gt;</code></aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/api/v1/donations/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the donation to retrieve</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The Food Drivr API uses the following error codes:</p>

<h3 id="common-error-codes">Common error codes</h3>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request cannot be understood</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your token is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The data requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified data could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access data with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The data requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too much data! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

<h3 id="error-codes-in-depth-with-rails-symbols">Error codes in depth, with Rails symbols</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
<th>Symbol</th>
</tr>
</thead><tbody>
<tr>
<td>1xx</td>
<td>Informational</td>
<td></td>
</tr>
<tr>
<td>100</td>
<td>Continue</td>
<td>:continue</td>
</tr>
<tr>
<td>101</td>
<td>Switching Protocols</td>
<td>:switching_protocols</td>
</tr>
<tr>
<td>102</td>
<td>Processing</td>
<td>:processing</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2xx Success</td>
<td></td>
<td></td>
</tr>
<tr>
<td>200</td>
<td>OK</td>
<td>:ok</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>:created</td>
</tr>
<tr>
<td>202</td>
<td>Accepted</td>
<td>:accepted</td>
</tr>
<tr>
<td>203</td>
<td>Non-Authoritative Information</td>
<td>:non_authoritative_information</td>
</tr>
<tr>
<td>204</td>
<td>No Content</td>
<td>:no_content</td>
</tr>
<tr>
<td>205</td>
<td>Reset Content</td>
<td>:reset_content</td>
</tr>
<tr>
<td>206</td>
<td>Partial Content</td>
<td>:partial_content</td>
</tr>
<tr>
<td>207</td>
<td>Multi-Status</td>
<td>:multi_status</td>
</tr>
<tr>
<td>226</td>
<td>IM Used</td>
<td>im_used</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3xx Redirection</td>
<td></td>
<td></td>
</tr>
<tr>
<td>300</td>
<td>Multiple Choices</td>
<td>:multiple_choices</td>
</tr>
<tr>
<td>301</td>
<td>Moved Permanently</td>
<td>:moved_permanently</td>
</tr>
<tr>
<td>302</td>
<td>Found</td>
<td>:found</td>
</tr>
<tr>
<td>303</td>
<td>See Other</td>
<td>:see_other</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
<td>:not_modified</td>
</tr>
<tr>
<td>305</td>
<td>Use Proxy</td>
<td>:use_proxy</td>
</tr>
<tr>
<td>307</td>
<td>Temporary Redirect</td>
<td>:temporary_redirect</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4xx Client Error</td>
<td></td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>:bad_request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>:unauthorized</td>
</tr>
<tr>
<td>402</td>
<td>Payment Required</td>
<td>:payment_required</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>:forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>:not_found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>:method_not_allowed</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
<td>:not_acceptable</td>
</tr>
<tr>
<td>407</td>
<td>Proxy Authentication Required</td>
<td>:proxy_authentication_required</td>
</tr>
<tr>
<td>408</td>
<td>Request Timeout</td>
<td>:request_timeout</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
<td>:conflict</td>
</tr>
<tr>
<td>410</td>
<td>Gone</td>
<td>:gone</td>
</tr>
<tr>
<td>411</td>
<td>Length Required</td>
<td>:length_required</td>
</tr>
<tr>
<td>412</td>
<td>Precondition Failed</td>
<td>:precondition_failed</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large</td>
<td>:request_entity_too_large</td>
</tr>
<tr>
<td>414</td>
<td>Request-URI Too Long</td>
<td>:request_uri_too_long</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type</td>
<td>:unsupported_media_type</td>
</tr>
<tr>
<td>416</td>
<td>Requested Range Not Satisfiable</td>
<td>:requested_range_not_satisfiable</td>
</tr>
<tr>
<td>417</td>
<td>Expectation Failed</td>
<td>:expectation_failed</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
<td>:unprocessable_entity</td>
</tr>
<tr>
<td>423</td>
<td>Locked</td>
<td>:locked</td>
</tr>
<tr>
<td>424</td>
<td>Failed Dependency</td>
<td>:failed_dependency</td>
</tr>
<tr>
<td>426</td>
<td>Upgrade Required</td>
<td>:upgrade_required</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5xx Server Error</td>
<td></td>
<td></td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>:internal_server_error</td>
</tr>
<tr>
<td>501</td>
<td>Not Implemented</td>
<td>:not_implemented</td>
</tr>
<tr>
<td>502</td>
<td>Bad Gateway</td>
<td>:bad_gateway</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>:service_unavailable</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Timeout</td>
<td>:gateway_timeout</td>
</tr>
<tr>
<td>505</td>
<td>HTTP Version Not Supported</td>
<td>:http_version_not_supported</td>
</tr>
<tr>
<td>507</td>
<td>Insufficient Storage</td>
<td>:insufficient_storage</td>
</tr>
<tr>
<td>510</td>
<td>Not Extended</td>
<td>:not_extended</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="swift">swift</a>
          </div>
      </div>
    </div>
  </body>
</html>
